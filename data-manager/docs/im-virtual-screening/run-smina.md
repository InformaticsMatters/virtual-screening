This describes how to run the `run-smina` job from the `virtual screening` category in the `im-virtual-screening` collection.

## What the job does

This job runs the Smina docking tool, generating poses of the candidate molecules in the binding site of the receptor.
Note that this job is potentially very computationally intensive, runs in parallel and can take several hours to complete.

Smina needs inputs in PDBQT format, but this job is able to convert PDB or MOL2 formats to PDBQT so there is no need to do this beforehand.

Smina will generate the box into which the candidate poses are restricted based on a known ligand that needs to be provided as an input.

## Implementation details

This job is implemented as a [Nextflow](https://www.nextflow.io/) workflow.

* Nextflow workflow: [/smina-docking.nf]()
* Job definition: `jobs.run-smina` in [/data-manager/virtual-screening.yaml]()
* About Smina: https://sourceforge.net/projects/smina/

## How to run the job

### Inputs

* **Candidate ligands to process**: the molecules to dock in SDF format, typically generated by the 
[generate-candidates](generate-candidates.md) job.
* **Prepared receptor**: the prepared receptor in PDBQT, PDB or MOL2 formats.
* **Ligand file for box**: the sample ligand used for generation of the bounding box in PDBQT, PDB, MOL or MOL2 format.

### Options
* **Box definition padding**: padding around the sample ligand when defining the box
* **Exhaustiveness setting**: the smina exhaustiveness setting - the higher the number the more time is taken
* **Scoring function to use**: the scoring function to use (vinardo seems to work best)